!function(t,e){"use strict";const n={config:{postsPerPage:7,commentsPerPage:5,relatedPostsCount:3,defaultLanguage:"en",supportedLanguages:["en","ar"],translations:{en:{loadMore:"Load More",loading:"Loading...",noMorePosts:"No more posts",noMoreComments:"No more comments",copyLinkSuccess:"Article link copied",readingTime:"{} min read",gridView:"Grid View",listView:"List View",commentCount:"{} Comments",relatedPosts:"Suggested for you",errorOccurred:"An error occurred. Please try again."},ar:{loadMore:"تحميل المزيد",loading:"جاري التحميل...",noMorePosts:"لا توجد مزيد من المقالات",noMoreComments:"لا توجد المزيد من التعليقات",copyLinkSuccess:"تم نسخ رابط المقال",readingTime:"{} دقائق للقراءة",gridView:"عرض شبكي",listView:"عرض القائمة",commentCount:"{} تعليقات",relatedPosts:"مقترح لك",errorOccurred:"حدث خطأ. حاول مرة أخرى."}}},util:{isRTL:function(){return"rtl"===e.documentElement.dir},getLanguage:function(){const t=e.documentElement.lang.split("-")[0];return n.config.supportedLanguages.includes(t)?t:n.config.defaultLanguage},translate:function(t,e){const a=this.getLanguage();let r=n.config.translations[a][t]||t;return void 0!==e?r.replace("{}",e):r},fetchJSON:async function(t){try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(t){throw t}},formatDate:function(t){const e=new Date(t),n=this.getLanguage();return e.toLocaleDateString("ar"===n?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"})},shuffleArray:function(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}},posts:{authorImages:{},getAuthorImage:function(t){const e=t.author[0].gd$image.src;if(this.authorImages[e])return this.authorImages[e];let n="https://lh3.googleusercontent.com/a/default-user";return e.includes("g/blank.gif")||e.includes("g/b16-rounded.gif")||(n=e.replace(/\/s\d+-c\//,"/s80-c/")),this.authorImages[e]=n,n}},relatedPosts:{container:null,init:function(){this.container=e.getElementById("mintblogger-related-posts"),this.container&&"related"===this.container.getAttribute("data-bjs")&&this.loadRelatedPosts()},loadRelatedPosts:async function(){try{const t=this.container.getAttribute("data-id"),e=this.container.getAttribute("data-tags"),n=e?JSON.parse(e.replace(/&quot;/g,'"')):[],a=parseInt(this.container.getAttribute("data-max-results"),10)||15,r=parseInt(this.container.getAttribute("data-length"),10)||3;if(0===n.length)return;const i=await this.fetchRelatedPosts(n,a),s=this.filterAndShufflePosts(i.feed.entry,t,r);this.renderRelatedPosts(s)}catch(t){this.showErrorMessage()}},fetchRelatedPosts:async function(t,a){const r=t.map((t=>`label:"${t}"`)).join("|"),i=`${e.location.origin}/feeds/posts/default?alt=json&orderby=published&max-results=${a}&q=${encodeURIComponent(r)}`;return await n.util.fetchJSON(i)},filterAndShufflePosts:function(t,e,a){if(!t)return[];const r=t.filter((t=>t.id.$t!==e));return n.util.shuffleArray(r).slice(0,a)},renderRelatedPosts:function(t){t&&0!==t.length&&(this.container.innerHTML=`\n          <div class="items-related">\n            <div class="widget-title mb-4">\n              <h3 class="text-lg font-bold text-color-text mb-2 dark:text-neutral-100">${n.util.translate("relatedPosts")}</h3>\n              <div class="title-border flex items-center gap-1" aria-hidden="true">\n                <div class="h-1 bg-primary rounded-full w-16"></div>\n                <div class="h-1 bg-primary opacity-60 rounded-full w-4"></div>\n                <div class="h-1 bg-primary opacity-30 rounded-full w-2"></div>\n              </div>\n            </div>\n            <div class="mx-auto mt-3 grid max-w-2xl auto-rows-fr grid-cols-1 gap-4 sm:mt-6 lg:mx-0 lg:max-w-none lg:grid-cols-3" dir="${e.dir}">\n              ${t.map((t=>this.createRelatedPostElement(t))).join("")}\n            </div>\n          </div>\n        `)},createRelatedPostElement:function(t){const e=t.title.$t,a=t.link.find((t=>"alternate"===t.rel)).href,r=t.media$thumbnail?t.media$thumbnail.url.replace(/\/s[0-9]+(\-c)?\//,"/s300-c/"):"https://via.placeholder.com/300x200",i=t.author[0].name.$t,s=t.published.$t,o=n.util.formatDate(s),l=n.posts.getAuthorImage(t);return`\n          <article class="relative isolate flex flex-col justify-end overflow-hidden rounded-lg bg-gray-900 px-4 pb-4 pt-32 sm:pt-24 lg:pt-32">\n            <img alt="" class="absolute inset-0 -z-10 h-full w-full object-cover" width="300" height="200" style="aspect-ratio: 300 / 200; object-fit: cover" src="${r}">\n            <div class="absolute inset-0 -z-10 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>\n            <div class="absolute inset-0 -z-10 rounded-lg ring-1 ring-inset ring-gray-900/10"></div>\n            <div class="flex flex-wrap items-center gap-y-1 overflow-hidden text-sm leading-6 text-gray-300">\n              <time datetime="${s}" class="${n.util.isRTL()?"ml-4":"mr-4"}">${o}</time>\n              <div class="${n.util.isRTL()?"mr-2":"ml-2"} flex items-center gap-x-2 text-gray-500">\n                <span class="relative flex overflow-hidden rounded-full h-5 w-5 flex-none">\n                  <img class="aspect-square h-full w-full" alt="${i}" src="${l}">\n                </span>\n                <span>${i}</span>\n              </div>\n            </div>\n            <h3 class="mt-2 text-base font-semibold leading-6 text-white">\n              <a href="${a}">${e}</a>\n            </h3>\n          </article>\n        `},showErrorMessage:function(){this.container.innerHTML='<p class="text-red-500">Error loading related posts. Please try again later.</p>'}},init:function(){this.relatedPosts.init()}};"loading"===e.readyState?e.addEventListener("DOMContentLoaded",n.init.bind(n)):n.init(),t.MintBlogger=n}(window,document),console.log("MintBlogger library loaded successfully!"),console.log("Simulating related posts initialization..."),MintBlogger.init();
